{% extends "base.html.twig" %}
{% block title %} {{ parent() }} Modification de produit{% endblock %}
{% block contenu %}
{{ parent() }}

{% if form.produit is defined %}
  {% if form.produit != null %}

<div class="container">

  <h2>Formulaire de modification de produit</h2>
  <form class="form-signin" action="index.php?page=produit-modif" method="post" enctype="application/x-www-form-urlencoded">
    <label for="numero" class="sr-only">Numéro d'identification</label>
    <input type="number" id="numero" name="numero" class="form-control" placeholder="Numéro d'identification:" value="{{form.produit.numero}}" required>

    <label for="nomProduit" class="sr-only">Nom du produit</label>
    <input type="text" id="nomProduit" name="nomProduit" class="form-control" placeholder="Nom du produit:" value="{{form.produit.nomProduit}}" required autofocus>
  
    <label for="desProduit" class="sr-only">Description du produit</label>
    <input type="text" id="desProduit" name="desProduit" class="form-control" placeholder="Description du produit:" value="{{form.produit.desProduit}}" required autofocus>

    <label for="prix" class="sr-only">Prix du produit</label>
    <input type="number" id="prix" name="prix" class="form-control" placeholder="Prix du produit:" value="{{form.produit.prix}}" required>
    
    <input type="hidden" name="idProduit" value="{{ form.produit.idProduit}}"/>
    <button class="btn btn-lg btn-primary btn-block" type="submit" name="btModifier">Modifier le produit</button>
  </form>
</div>
  {% else %}
    <h2 class="alert alert-danger" role="alert">{{ form.message }}</h2>
    <a href="index.php?page=produit-modif">Retourner sur la liste des produits</a>
  {% endif %}
  {% else %}
    {% if form.valide == true %}
      <h1 class="h3 mb-3 font-weight-normal">{{ form.message }} </h1>
      <h1 class="h3 mb-3 font-weight-normal"><a href="index.php?page=listeproduit">Retourner sur la liste des produits</a></h1>
    {% else %}
      <h1 class="alert alert-danger" role="alert">{{ form.message }}</h1>
      <h1 class="h3 mb-3 font-weight-normal"><a href="index.php?page=listeproduit">Retourner sur la liste des produits</a></h1>
    {% endif %} 
{% endif %} 

<footer class="bg-dark text-center text-black">
  <div class="container p-4">
    <section class="">
      <div class="row">
        <div class="col">

          <ul class="list-unstyled mb-0">
            <li>
              <a href="index.php?page=home" class="text-black">Accueil du site</a>
            </li>
            <li>
              <a href="index.php?page=mentions" class="text-black">Mentions légales</a>
            </li>
            <li>
              <a href="index.php?page=contact" class="text-black">Contact</a>
            </li>            
          </ul>
        </div>

      </div>
    </section>
  </div>
  <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">© 2021 Tous droits réservés: Sophie HENEMAN</div>
</footer>
{% endblock %}